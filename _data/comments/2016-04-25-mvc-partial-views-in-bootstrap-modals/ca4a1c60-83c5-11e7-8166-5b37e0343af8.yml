_id: ca4a1c60-83c5-11e7-8166-5b37e0343af8
name: IY
email: ef04456ebc971a2fc5a371507db1f18c
url: ''
address: ''
message: "Hi, this is a great tutorial. However, I have some problem to apply that on my web app. At the first time when I click on the ActionLink, it will call the QuickView action in the Product controller and show the information of the product. However, when I click on the ActionLink for another product, it won't call the QuickView action. Also, the content of the modal window still displays the information of the previous product. Basically, the problem is that the action method only gets called in the first time that I click on the ActionLink. It won't get called anymore in any subsequence click of the ActionLink. When I right click the page and inspect the element, I can see that the modal action link is generated correctly.  I'm so confused about it. Please help.\r\n\r\nMain view:\r\n\r\n<div id=\"product\">\r\n    @foreach (var product in Model.Products)\r\n    {\r\n        @Html.Partial(\"ProductSummary\", product)\r\n    }\r\n</div>\r\n\r\n@*@* The normal bootstrap modal with out any content in the modal-content div. Note that the id matches the data_target from the link*@\r\n<div id=\"modal-container\" class=\"modal fade product_view\" tabindex=\"-1\" role=\"dialog\">\r\n    <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n@section scripts {\r\n    @* The normal bootstrap behavior is to only grab the content for the modal once, if you need to pull in different partial views then the data on the modal will have to be cleared.*@\r\n    <script type=\"text/javascript\">\r\n        $(function () {\r\n            $('#modal-container').on('hidden.bs.modal', function () {\r\n                $(this).removeData('bs.modal');\r\n                $('#modal-container .modal-content').empty();\r\n            });\r\n        });\r\n\r\n        @* callback from form modal*@\r\n        function success() {\r\n            alert(\"Success!\");\r\n        }\r\n    </script>\r\n}\r\n\r\n\r\nProductSummary:\r\n\r\n<div class=\"col-md-4\">\r\n    <div class=\"thumbnail\">\r\n        @if (Model.ImageData != null)\r\n        {\r\n            <img src=\"@Url.Action(\"GetImage\", \"Product\", new { Model.ProductID })\" />\r\n        }\r\n\r\n        <div class=\"caption\">\r\n            <h4 class=\"pull-right\">@Model.Price.ToString(\"c\")</h4>\r\n            <h4>\r\n                @Ajax.ActionLink(Model.Name, \"ProductDetail\", new { productId = Model.ProductID, returnUrl = Request.Url.PathAndQuery }, \r\n                    new AjaxOptions { UpdateTargetId = \"content\", InsertionMode = InsertionMode.Replace })\r\n            </h4>\r\n        </div>\r\n        <div class=\"space-ten\"></div>\r\n        <div class=\"btn-ground text-center\">\r\n            <button type=\"button\" class=\"btn btn-primary\" onclick=\"location.href='@Url.Action(\"AddToCart\", \"Cart\", new { ProductId = Model.ProductID})'\">\r\n                <i class=\"fa fa-shopping-cart\"></i> Add To Cart\r\n            </button>\r\n            @*<button type=\"button\" class=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#product_view\" onclick=\"location.href='@Url.Action(\"QuickView\", \"Product\", new { ProductId = Model.ProductID})'\">>\r\n                <i class=\"fa fa-search\"></i> Quick View\r\n            </button>*@\r\n            <div>\r\n                @* Create a link that calls the controller method that returns the partial view*@\r\n                @Html.ActionLink(\"Open Modal\", \"QuickView\", \"Product\", new { ProductId = Model.ProductID }, new\r\n                {\r\n                    @* Needed to link to the html of the modal*@\r\n                    data_target = \"#modal-container\",\r\n                    @* Tells the bootstrap javascript to do its thing*@\r\n                    data_toggle = \"modal\"\r\n                })\r\n            </div>\r\n\r\n        </div>\r\n        <div class=\"space-ten\"></div>\r\n    </div>\r\n</div>\r\n\r\nQuickView (the modal content):\r\n\r\n<div class=\"modal-header\">\r\n    <a href=\"#\" data-dismiss=\"modal\" class=\"class pull-right\"><span class=\"glyphicon glyphicon-remove\"></span></a>\r\n    <h3 class=\"modal-title\">@Model.Name</h3>\r\n</div>\r\n<div class=\"modal-body\">\r\n    <div class=\"row\">\r\n        <div class=\"col-md-6 product_img\">\r\n            <img src=\"http://img.bbystatic.com/BestBuy_US/images/products/5613/5613060_sd.jpg\" class=\"img-responsive\">\r\n        </div>\r\n        <div class=\"col-md-6 product_content\">\r\n            <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.Lorem Ipsum is simply dummy text of the printing and typesetting industry.</p>\r\n            <h3 class=\"cost\"><span class=\"glyphicon glyphicon-usd\"></span> @Model.Price </h3>\r\n            <div class=\"space-ten\"></div>\r\n            <div class=\"btn-ground\">\r\n                <button type=\"button\" class=\"btn btn-primary\"><span class=\"glyphicon glyphicon-shopping-cart\"></span> Add To Cart</button>\r\n                <button type=\"button\" class=\"btn btn-primary\"><span class=\"glyphicon glyphicon-heart\"></span> Add To Wishlist</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\nAction method:\r\n\r\n        public ActionResult QuickView(int productId)\r\n        {\r\n            Product prod = repository.Products\r\n                .FirstOrDefault(p => p.ProductID == productId);\r\n\r\n            return PartialView(prod);\r\n        }"
date: 1503027118
timestamp: 1503027118
